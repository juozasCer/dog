<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GUARD SOLKY</title>

  <meta content="SOLKY" name="$SOLKY">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://dog-blush-six.vercel.app/">
  <meta property="og:title" content="GUARD SOLKY">
  <meta property="og:description" content="$SOLKY">
  <meta property="og:image" content="https://dog-blush-six.vercel.app/images/working.png">

  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://dog-blush-six.vercel.app/">
  <meta property="twitter:title" content="GUARD SOLKY">
  <meta property="twitter:description" content="$SOLKY">
  <meta property="twitter:image" content="https://dog-blush-six.vercel.app/images/working.png">

  <!-- Link to the external CSS files -->
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/stylegame.css">
</head>

<body>

  <!-- Header with navigation links -->
  <header>
    <nav class="nav-links">
      <a href="#section1">Section 1</a>
      <a href="#section2">Section 2</a>
      <a href="#section3">Section 3</a>
      <a href="#section4">Section 4</a>
    </nav>
    <!-- New buttons in the header -->
    <div class="header-buttons">
      <button class="header-button twitter-hover"></button>
      <button class="header-button telegram-hover"></button>
    </div>
  </header>

  <!-- Section 1 -->
  <div id="section1" class="section">
    <div class="video-background">
      <video id="videoForward" autoplay muted>
        <source src="images/MAINBG.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <video id="videoReverse" muted style="display:none;">
        <source src="images/MAINBGR.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
    <div class="content">
      <div class="logo">GUARD<br>SOLKY</div>
      <div class="contact-container">
        <div class="contact-info">
          <span id="contactAddress">CA 6gx2cVNUNVzrf4oJfTgBybvbJ2wMahjqWVxX9c8ipump</span>
          <button class="copy-button" onclick="copyContactAddress()"></button>
        </div>
      </div>
      <a href="https://example.com" class="contact-button">$SOLKY</a>
    </div>
  </div>
  <div class="separator"></div>

  <!-- Section 2 -->
  <div id="section2" class="section">
    <div class="background-image"></div>
    <div class="above-game-area">
      <div class="above-game-text">SAVE SOLANA<br>ECOSYSTEM</div>
    </div>
    <div class="game-leaderboard-container">
      <!-- Game Area -->
      <div id="gameArea">
        <div id="player"></div>
        <div id="gameOverText">Game Over</div>
        <div id="score">Score: 0</div>
        <!-- Score display -->
        <button id="startButton">Start Game</button>
      </div>
      <!-- Leaderboard Section -->
      <div id="leaderboardSection">
        <div class="leaderboard-title">Leaderboard</div>
        <table id="leaderboard">
          <thead>
            <tr>
              <th>Rank</th>
              <th>Name</th>
              <th>Score</th>
            </tr>
          </thead>
          <tbody>
            <!-- Leaderboard entries will be populated here -->
          </tbody>
        </table>

        <!-- Name Input Section placed below Leaderboard -->
        <div id="nameInputSection">
          <input type="text" id="playerName" placeholder="Enter your name" />
          <button id="setNameButton">Set Name</button>
        </div>
      </div>
    </div>
  </div>
  <div class="separator"></div>

  <!-- Section 3 -->
  <div id="section3" class="section">
    <p>Section 3 Content</p>
  </div>
  <div class="separator"></div>

  <!-- Section 4 -->
  <div id="section4" class="section">
    <p>Section 4 Content</p>
  </div>
  <div class="separator"></div>

  <!-- Footer -->
  <footer>
    &copy; 2024 One Page Website
  </footer>

  <!-- Link to the external JavaScript file -->
  <script src="/js/script.js"></script>
  <script src="/js/bgscript.js"></script>
  <script>
    function copyContactAddress() {
      // Get the text from the span element
      var fullText = document.getElementById('contactAddress').textContent;

      // Find the index of the first space
      var spaceIndex = fullText.indexOf(' ');

      // Extract the text after the first space
      var textToCopy = spaceIndex !== -1 ? fullText.substring(spaceIndex + 1) : fullText;

      // Copy the extracted text to clipboard
      navigator.clipboard.writeText(textToCopy).then(function () {
        alert('Contact address copied to clipboard!');
      }, function (err) {
        console.error('Failed to copy text: ', err);
      });
    }
  </script>
  <script>
    const API_URL = 'https://dog-blush-six.vercel.app'; // Your backend URL

    async function fetchLeaderboard() {
      try {
        const response = await fetch(`${API_URL}/leaderboard`);
        if (!response.ok) throw new Error('Network response was not ok');
        const data = await response.json();
        
        const tableBody = document.querySelector('#leaderboard tbody');
        tableBody.innerHTML = ''; // Clear existing content

        data.forEach(player => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${player.name}</td>
            <td>${player.score}</td>
          `;
          tableBody.appendChild(row);
        });
      } catch (error) {
        console.error('Fetch error:', error);
      }
    }

    // Fetch leaderboard data on page load
    document.addEventListener('DOMContentLoaded', fetchLeaderboard);
  </script>
</body>

</html>
